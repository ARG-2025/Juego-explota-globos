<!DOCTYPE html>
<html>
<head>
    <title>Explota Globos</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #87CEEB; }
        #contador { position: absolute; top: 10px; right: 10px; font-size: 24px; color: white; font-family: Arial; }
    </style>
</head>
<body>
    <div id="contador">Globos: 0</div>
    <canvas id="juego"></canvas>
    <audio id="sonidoPop" src="https://assets.mixkit.co/sfx/preview/mixkit-balloon-pop-with-delay-2354.mp3" preload></audio>
    <audio id="musica" loop src="https://assets.mixkit.co/music/preview/mixkit-happy-children-938.mp3" preload></audio>

    <script>
        const canvas = document.getElementById("juego");
        const ctx = canvas.getContext("2d");
        const sonidoPop = document.getElementById("sonidoPop");
        const musica = document.getElementById("musica");
        const contadorElement = document.getElementById("contador");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let contador = 0;
        let velocidad = 2;
        let tamaño = 60;
        let globo = {
            x: Math.random() * (canvas.width - 60),
            y: Math.random() * (canvas.height - 60),
            dx: (Math.random() - 0.5) * velocidad,
            dy: (Math.random() - 0.5) * velocidad
        };

        // Imagen del globo (pixel art estilo Minecraft)
        function dibujarGlobo(x, y, tamaño) {
            ctx.fillStyle = "#FF0000";
            ctx.beginPath();
            ctx.ellipse(x, y, tamaño, tamaño * 1.2, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = "#D3D3D3";
            ctx.fillRect(x - 3, y + tamaño * 1.1, 6, 20);
        }

        function actualizar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Mover globo
            globo.x += globo.dx;
            globo.y += globo.dy;
            
            // Rebote en bordes
            if (globo.x <= 0 || globo.x >= canvas.width - tamaño) globo.dx *= -1;
            if (globo.y <= 0 || globo.y >= canvas.height - tamaño) globo.dy *= -1;
            
            dibujarGlobo(globo.x, globo.y, tamaño);
            requestAnimationFrame(actualizar);
        }

        canvas.addEventListener("click", (e) => {
            const distancia = Math.sqrt((e.clientX - globo.x) ** 2 + (e.clientY - globo.y) ** 2);
            if (distancia < tamaño) {
                sonidoPop.play();
                contador++;
                contadorElement.textContent = `Globos: ${contador}`;
                
                // Aumentar dificultad cada 10 globos
                if (contador % 10 === 0) {
                    velocidad *= 1.05;
                    tamaño = 60 * (0.8 + Math.random() * 0.4);
                }
                
                // Nuevo globo
                globo = {
                    x: Math.random() * (canvas.width - 60),
                    y: Math.random() * (canvas.height - 60),
                    dx: (Math.random() - 0.5) * velocidad,
                    dy: (Math.random() - 0.5) * velocidad
                };
            }
        });

        // Iniciar música (opcional)
        musica.volume = 0.3;
        musica.play();
        actualizar();
    </script>
</body>
</html>